<%- include('../layout/adminheader.ejs') %>
                <!-- End of Topbar -->

                <!-- Begin Page Content -->
                <div class="container-fluid">

                    <!-- Page Heading -->
        
                    <div class="row">
                        <div class="col-md-3"></div>
                        <div class="col-md-6">
                          <% if(error_msg  && error_msg.length > 0 ){ %>
                            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                <strong>Oh no!</strong> <%= error_msg %>
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                          <%} %>
                          
                          <% if(success_msg  && success_msg.length > 0 ){ %>
                            <div class="alert alert-success alert-dismissible fade show" role="alert">
                                <strong>Awesome!</strong> <%= success_msg %>
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                          <%} %>
                        </div>
                        <div class="col-md-3"></div>
                    </div>

                    <div class="row my-3 p-3">
                        <div class="col-md-6" style="background-color: aliceblue;">              
                            <form method="post" action="/supplyer" >
                                <div class="row text-capitalize">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                             <label for="product">Product:</label>
                                            <input list="products" name="product" id="product" class="form-control">
                                            <datalist id="products">
                                                <% if(products && products.length > 0){%>
                                                    <% products.forEach((item) => { %>
                                                        <option value="<%= item.id %>"><%= item.name %></option>
                                                    <% }) %>
                                                <% } else { %>
                                                    <option value="No products available">No products available</option>

                                                <%} %>
                                            
                                            </datalist>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="supplier_name"  class="col-form-label">supplier Name:</label>
                                            <input type="text" name="sName" id="" class="form-control">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="company_name"  class="col-form-label">Comapany:</label>
                                            <input type="text" name="sCompany" id="" class="form-control">
                                         
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="company_address"  class="col-form-label">Comapany Address:</label>
                                            <input type="text" name="sAddress" id="" class="form-control">
                                         
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="sEmail" class="col-form-label">Email:</label>
                                            <input type="email" class="form-control" name="sEmail" id="discount">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="sPhone" class="col-form-label">Phone :</label>
                                            <input type="number" class="form-control" name="sPhone" id="start_at">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                       
                                        <button class="btn btn-primary" type="submit" >Add</button>
                                    </div>
                                    
                                </div>
                                
                            </form>        
                        </div>
                        <div class="col-md-6"></div>
                    </div>

                    <!-- DataTales Example -->
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold text-primary">DataTables </h6>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th>##</th>
                                            <th>Product_id</th>
                                            <th>Supplyer</th>
                                            <th>Email</th>
                                            <th>phone</th>
                                            <th>Company</th>
                                            <th>Address</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <% if(supplyers && supplyers.length > 0){ 
                                            let x = 1
                                            %>
                                            <% supplyers.forEach(supplyer => { %>
                                                <tr>
                                                    <td><%= x++ %></td>
                                                    <td><%= supplyer.product_id %></td>
                                                    <td><%= supplyer.name %></td>
                                                    <td><%= supplyer.email %></td>
                                                    <td><%= supplyer.phone %></td>
                                                    <td><%= supplyer.company %></td>
                                                    <td><%= supplyer.location %></td>
                                                    <td>
                                                        <a href="supplyer/update/<%= supplyer.id %>" class="btn btn-primary btn-sm">
                                                            <i class="fas fa-edit"></i>
                                                        </a>
                                                        <a href="supplyer/delete/<%= supplyer.id %>" class="btn btn-danger btn-sm" > 
                                                            <i class="fas fa-trash"></i>
                                                        </a>
                                                    </td>
                                                </tr>
                                            <% }) 
                                        }else{%>
                                                <tr>
                                                    <td colspan="8" class="text-center">No Supplyer Info Found</td>
                                                </tr>
                                        <% } %>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            <!-- Footer -->
            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span>Copyright &copy; Your Website 2020</span>
                    </div>
                </div>
            </footer>
            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>
<%- include('../layout/adminfooter.ejs') %>